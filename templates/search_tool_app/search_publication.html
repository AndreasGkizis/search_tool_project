<!DOCTYPE html>
{% extends 'search_tool_app/Base_boot-strap.html' %}
{% load static %}
{% load crispy_forms_tags %}



{% block title_block %}
- Search page
{% endblock %}
{% block body_block %}
<div class="row mx-auto " >
    <div class="col-lg-3">
        <form class="form-group" method="POST" action="{% url 'search_publication' %}" name="searched">
            <fieldset>
                {% csrf_token %}
                <div class="card p-2 bg-dark text-white">
                    <div class="card-header">
                     <h5>
                         <strong>Search by .. </strong>
                     </h5>
                </div>
                    <div class="card-body">
                        <div class="form-group row">
                            <div class="col-4">
                                <label class="control-label" for="Title" > {{form.title.label}} :</label>
                            </div>
                            <div  id="Title">
                                {{ form.title }}
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-4">
                                <label class="control-label" for="year" > {{form.year.label}} :</label>
                            </div>
                            <div class="col-8 align-self-end" id="year">
                                {% for checkbox in form.year %}
                                        <div class="row">
                                            {{checkbox}}
                                        </div>
                                    {% endfor %}
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-4">
                                <label class="control-label" for="type" > {{form.type.label}} :</label>
                            </div>
                            <div class="col-8 align-self-end" id="type">
                                    {% for checkbox in form.type %}
                                        <div class="row">
                                            {{checkbox}}
                                        </div>
                                    {% endfor %}
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-4">
                                <label class="control-label" for="language" > {{form.language.label}} :</label>
                            </div>
                            <div class="col-8 align-self-end" id="language">
                                {% for checkbox in form.language %}
                                        <div class="row">
                                            {{checkbox}}
                                        </div>
                                    {% endfor %}
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-4">
                                <label class="control-label" for="tag" > {{form.tag.label}} :</label>
                            </div>
                            <div class="col-8 align-self-end" id="tag">
                                {% for checkbox in form.tag %}
                                        <div class="row">
                                            {{checkbox}}
                                        </div>
                                    {% endfor %}
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-4">
                                <label class="control-label" for="material" > {{form.material.label}} :</label>
                            </div>
                            <div class="col-8 align-self-end" id="material">
                                    {% for checkbox in form.material %}
                                        <div class="row">
                                            {{checkbox}}
                                        </div>
                                    {% endfor %}
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search for publication</button>
                </div>
            </fieldset>
        </form>
    </div>

    <div class="col-9 px-2">
        <form class="form-group" method="POST" action="{% url 'search_publication' %}" name="searched">
            {% csrf_token %}
            {% for result in results %}
            <div class="card p-2 bg-dark text-white">
                <div class="card-header">
                     <h5>
                         <strong> Publication Title :</strong> {{ result.title }}
                     </h5>
<!--                     # make functions for all model labels? or try using Form somehow ?? -->
                </div>
                <div class="card-body">
                    <p> <strong> Year Published :</strong> {{ result.year_id }}</p>
                    <p> <strong> Type :</strong> {{ result.type_id }} </p>
                    <p> <strong> Language Written :</strong>
                            {% for language in result.language.all %}
                                {{ language }} ,
                            {% endfor %}
                    </p>
                    <p> <strong> Materials Examined :</strong>
                        {% for material in result.material.all %}
                            {{ material }} ,
                        {% endfor %}
                    </p>
                    <p> <strong> Materials Used :</strong> {{ result. }} </p>
                    <p> <strong> Abstract :</strong> {{ result.abstract }} </p>
                    <p> <strong>  Tags :</strong>
                        {% for tag in result.tag.all %}
                            {{ tag }} ,
                        {% endfor %}
                    </p>
                    <p> <strong>  placeholder :</strong> {{ result. }} </p>
                    <div class="text-right">
                        <a href="{% url 'show_publication' result.slug %}" class="btn btn-outline-success align-self-end">View Publication</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </form>
    </div>

</div>
{% endblock %}
